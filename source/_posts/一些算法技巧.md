---
title: ä¸€äº›ç®—æ³•å°æŠ€å·§
date: 2021-07-05 10:23:19
tags:
category:
---

# é€’å½’

### é€’å½’çš„åŸºæœ¬æ€æƒ³

æ‹†è§£é—®é¢˜

- æŠŠè§„æ¨¡å¤§çš„é—®é¢˜å˜æˆè§„æ¨¡è¾ƒå°çš„åŒç±»å‹é—®é¢˜ 
- è§„æ¨¡è¾ƒå°çš„é—®é¢˜åˆä¸æ–­å˜æˆè§„æ¨¡æ›´å°çš„é—®é¢˜ 
- è§„æ¨¡å°åˆ°ä¸€å®šç¨‹åº¦å¯ä»¥ç›´æ¥å¾—å‡ºå®ƒçš„è§£

æ±‚è§£ 

- ç”±æœ€å°è§„æ¨¡é—®é¢˜çš„è§£å¾—å‡ºè¾ƒå¤§è§„æ¨¡é—®é¢˜çš„è§£
- ç”±è¾ƒå¤§è§„æ¨¡é—®é¢˜çš„è§£ä¸æ–­å¾—å‡ºè§„æ¨¡æ›´å¤§é—®é¢˜çš„è§£ 
- æœ€åå¾—å‡ºåŸæ¥é—®é¢˜çš„è§£

> å‡¡æ˜¯å¯ä»¥åˆ©ç”¨ä¸Šè¿°æ€æƒ³è§£å†³é—®é¢˜çš„ï¼Œéƒ½å¯ä»¥å°è¯•ä½¿ç”¨é€’å½’ å¾ˆå¤šé“¾è¡¨ã€äºŒå‰æ ‘ç›¸å…³çš„é—®é¢˜éƒ½å¯ä»¥ä½¿ç”¨é€’å½’æ¥è§£å†³ å› ä¸ºé“¾è¡¨ã€äºŒå‰æ ‘æœ¬èº«å°±æ˜¯é€’å½’çš„ç»“æ„ï¼ˆé“¾è¡¨ä¸­åŒ…å«é“¾è¡¨ï¼ŒäºŒå‰æ ‘ä¸­åŒ…å«äºŒå‰æ ‘ï¼‰





# å›æº¯

> å›æº¯å¯ä»¥ç†è§£ä¸ºï¼šé€šè¿‡é€‰æ‹©ä¸åŒçš„å²”è·¯å£æ¥é€šå¾€ç›®çš„åœ°ï¼ˆæ‰¾åˆ°æƒ³è¦çš„ç»“æœï¼‰ 

- æ¯ä¸€æ­¥éƒ½é€‰æ‹©ä¸€æ¡è·¯å‡ºå‘ï¼Œèƒ½è¿›åˆ™è¿›ï¼Œä¸èƒ½è¿›åˆ™é€€å›ä¸Šä¸€æ­¥ï¼ˆå›æº¯ï¼‰ï¼Œæ¢ä¸€æ¡è·¯å†è¯• 

- æ ‘ã€å›¾çš„æ·±åº¦ä¼˜å…ˆæœç´¢ï¼ˆDFSï¼‰ã€å…«çš‡åã€èµ°è¿·å®«éƒ½æ˜¯å…¸å‹çš„å›æº¯åº”ç”¨

## å…«çš‡å

**å…«çš‡åé—®é¢˜æ˜¯ä¸€ä¸ªå¤è€è€Œè‘—åçš„é—®é¢˜** 

åœ¨8x8æ ¼çš„å›½é™…è±¡æ£‹ä¸Šæ‘†æ”¾å…«ä¸ªçš‡åï¼Œä½¿å…¶ä¸èƒ½äº’ç›¸æ”»å‡»ï¼šä»»æ„ä¸¤ä¸ªçš‡åéƒ½ä¸èƒ½å¤„äºåŒä¸€è¡Œã€åŒä¸€åˆ—ã€åŒä¸€æ–œçº¿ä¸Š ã€‚

<img src="https://raw.githubusercontent.com/C1EYE/figureBed/main/img/20210706113349.png" alt="image-20210706113349863" style="zoom: 33%;" />

è¯·é—®æœ‰å¤šå°‘ç§æ‘†æ³•ï¼Ÿ

- ä¸ºäº†æ–¹ä¾¿æ€è€ƒï¼Œé¦–å…ˆç¼©å°é—®é¢˜è§„æ¨¡ï¼Œå¦‚ä¸‹æ˜¯å››çš‡åçš„å›æº¯è¿‡ç¨‹

```java
public class Main {
    //ç´¢å¼•æ˜¯çš‡åçš„è¡Œå·,å€¼æ˜¯çš‡åæ‰€åœ¨çš„åˆ—å·
    private int[] cols;
    private int ways = 0;

    public static void main(String[] args) {
        new Main().placeQueens(4);
    }

    void placeQueens(int n) {
        if (n < 1) { return; }
        cols = new int[n];
        place(0);
        System.out.println(n + "çš‡åå…±æœ‰" + ways + "ç§æ‘†æ³•");
    }

    /**
     * ä»rowè¡Œå¼€å§‹æ‘†æ”¾
     *
     * @param row
     */
    void place(int row) {
      //æ‘†å®Œæ‰€æœ‰çš‡åè®°å½•ä¸€æ¬¡
        if (row == cols.length) {
            ways++;
            show();
            return;
        }
        for (int col = 0; col < cols.length; col++) {
            if (isValid(row, col)) {
                //åœ¨å½“å‰ä½ç½®æ‘†æ”¾çš‡å
                cols[row] = col;
                place(row + 1);
            }
        }

    }

    boolean isValid(int row, int col) {
        for (int i = 0; i < row; i++) {
            //å½“å‰åˆ—
            if (cols[i] == col) {
                System.out.println("["+row+"]["+col+"]=false");
                return false;
            }
            //æ–œçº¿ä¸Š ç”¨æ–œç‡ç®—
            if (row - i == Math.abs(col - cols[i])) {
                System.out.println("["+row+"]["+col+"]=false");
                return false; }
        }
        System.out.println("["+row+"]["+col+"]=true");
        return true;
    }

    void show() {
        System.out.println("ç¬¬" + ways + "ç§æ‘†æ³•");
        for (int row = 0; row < cols.length; row++) {
            for (int col = 0; col < cols.length; col++) {
                if (cols[row] == col) {
                    System.out.print("1 ");
                } else {
                    System.out.print("0 ");
                }
            }
            System.out.println();
        }
        System.out.println("----------------------");
    }


}

```

<img src="https://raw.githubusercontent.com/C1EYE/figureBed/main/img/20210706114444.png" alt="image-20210706114444092" style="zoom:50%;" />

<img src="https://raw.githubusercontent.com/C1EYE/figureBed/main/img/20210706114531.png" alt="image-20210706114531417" style="zoom:50%;" />

<img src="https://raw.githubusercontent.com/C1EYE/figureBed/main/img/20210706114542.png" alt="image-20210706114542605" style="zoom:50%;" />

- ä¼˜åŒ–åˆ¤æ–­çš„ç‰ˆæœ¬

```java
public class NQ {
    //æ ‡è®°è¯¥åˆ—æœ‰æ— çš‡å
    boolean[] cols;
    // \æ–œçº¿ä¸Šæœ‰æ— çš‡åï¼Œæ¯ä¸ªæ–¹å‘æœ‰2n-1ä¸ªæ–œçº¿
    boolean[] leftTop;
    // /æ–œçº¿ä¸Šæœ‰æ— çš‡å
    boolean[] rightTop;
    int[] queens;
    private int ways = 0;

    public static void main(String[] args) {
        new NQ().placeQueens(8);
    }

    void placeQueens(int n) {
        if (n < 1) { return; }
        queens = new int[n];
        cols = new boolean[n];
        leftTop = new boolean[(n << 1) - 1];
        rightTop = new boolean[leftTop.length];
        place(0);
        System.out.println(n + "çš‡åå…±æœ‰" + ways + "ç§æ‘†æ³•");
    }

    /**
     * ä»rowè¡Œå¼€å§‹æ‘†æ”¾
     *
     * @param row
     */
    void place(int row) {
        if (row == cols.length) {
            ways++;
            show();
            return;
        }
        for (int col = 0; col < cols.length; col++) {
            if (cols[col]) { continue; }
            int ltIndex = row - col + cols.length-1;
            if (leftTop[ltIndex]) { continue; }
            int rtIndex = row + col;
            if (rightTop[rtIndex]) { continue; }

            //åœ¨å½“å‰ä½ç½®æ‘†æ”¾çš‡å
            cols[col] = true;
            leftTop[ltIndex] = true;
            rightTop[rtIndex] = true;
            queens[row] = col;
            place(row + 1);
          //å›æº¯æ—¶éœ€è¦å°†å¯¹åº”çš„ä½ç½®æ¢å¤
            cols[col] = false;
            leftTop[ltIndex] = false;
            rightTop[rtIndex] = false;
        }


    }

    void show() {
        System.out.println("ç¬¬" + ways + "ç§æ‘†æ³•");
        for (int row = 0; row < queens.length; row++) {
            for (int col = 0; col < queens.length; col++) {
                if (queens[row]==col) {
                    System.out.print("1 ");
                } else {
                    System.out.print("0 ");
                }
            }
            System.out.println();
        }
        System.out.println("----------------------");
    }

}


```

- è¿˜å¯ä»¥ä½¿ç”¨ä½è¿ç®—æ¥ä¼˜åŒ–æ‰å¸ƒå°”æ•°ç»„

> ä¸€ä¸ªå­—èŠ‚çš„æ¯ä¸€ä½0ï¼Œ1ä»£è¡¨èƒ½ä¸èƒ½æ”¾æ–°çš„çš‡å

```java
public class Q8 {
    //æ ‡è®°è¯¥åˆ—æœ‰æ— çš‡å
    byte cols;
    // \
    short leftTop;
    // /
    short rightTop;
    int[] queens;
    private int ways = 0;

    public static void main(String[] args) {
        new NQ().placeQueens(8);
    }

    void placeQueens(int n) {
        if (n < 1) { return; }
        queens = new int[n];
        cols = 0;
        leftTop  = 0;
        rightTop = 0;
        place(0);
        System.out.println(n + "çš‡åå…±æœ‰" + ways + "ç§æ‘†æ³•");
    }

    /**
     * ä»rowè¡Œå¼€å§‹æ‘†æ”¾
     *
     * @param row
     */
    void place(int row) {
        if (row == 8) {
            ways++;
            show();
            return;
        }
        for (int col = 0; col < 8; col++) {
            if ((cols & (1 << col)) != 0) { continue; }
            int ltIndex = row - col + 7;
            if ((leftTop & (1 << ltIndex)) == 1) { continue; }
            int rtIndex = row + col;
            if ((rightTop & (1 >> rtIndex)) == 1) { continue; }

            //åœ¨å½“å‰ä½ç½®æ‘†æ”¾çš‡å
            cols |= (1 << col);
            leftTop |= (1 << ltIndex);
            rightTop |= (1 << rtIndex);
            queens[row] = col;
            place(row + 1);
            cols &= ~(1 << col);
            leftTop &= ~(1 << ltIndex);
            rightTop &= ~(1 << rtIndex);
        }
    }

    void show() {
        System.out.println("ç¬¬" + ways + "ç§æ‘†æ³•");
        for (int row = 0; row < queens.length; row++) {
            for (int col = 0; col < queens.length; col++) {
                if (queens[row] == col) {
                    System.out.print("1 ");
                } else {
                    System.out.print("0 ");
                }
            }
            System.out.println();
        }
        System.out.println("----------------------");
    }

}


```

# è´ªå¿ƒ

**è´ªå¿ƒç­–ç•¥ï¼Œä¹Ÿç§°ä¸ºè´ªå©ªç­–ç•¥** 

- æ¯ä¸€æ­¥éƒ½é‡‡å–å½“å‰çŠ¶æ€ä¸‹æœ€ä¼˜çš„é€‰æ‹©ï¼ˆå±€éƒ¨æœ€ä¼˜è§£ï¼‰ï¼Œä»è€Œå¸Œæœ›æ¨å¯¼å‡ºå…¨å±€æœ€ä¼˜è§£

**è´ªå¿ƒçš„åº”ç”¨** 

- å“ˆå¤«æ›¼æ ‘ 
- æœ€å°ç”Ÿæˆæ ‘ç®—æ³•ï¼šPrimã€Kruskal 
- æœ€çŸ­è·¯å¾„ç®—æ³•ï¼šDijkstra

## æœ€ä¼˜è£…è½½

åœ¨åŒ—ç¾æ´²ä¸œå—éƒ¨ï¼Œæœ‰ä¸€ç‰‡ç¥ç§˜çš„æµ·åŸŸï¼Œæ˜¯æµ·ç›—æœ€æ´»è·ƒçš„åŠ å‹’æ¯”æµ· æœ‰ä¸€å¤©ï¼Œæµ·ç›—ä»¬æˆªè·äº†ä¸€è‰˜è£…æ»¡å„ç§å„æ ·å¤è‘£çš„è´§èˆ¹ï¼Œæ¯ä¸€ä»¶å¤è‘£éƒ½ä»·å€¼è¿åŸï¼Œä¸€æ—¦æ‰“ç¢å°±å¤±å»äº†å®ƒçš„ä»·å€¼ æµ·ç›—èˆ¹çš„è½½é‡é‡ä¸º Wï¼Œæ¯ä»¶å¤è‘£çš„é‡é‡ä¸º ğ‘¤ i ï¼Œæµ·ç›—ä»¬è¯¥å¦‚ä½•æŠŠå°½å¯èƒ½å¤šæ•°é‡çš„å¤è‘£è£…ä¸Šæµ·ç›—èˆ¹ï¼Ÿ 

> æ¯”å¦‚ W ä¸º 30ï¼Œ ğ‘¤ i åˆ†åˆ«ä¸º 3ã€5ã€4ã€10ã€7ã€14ã€2ã€11

è´ªå¿ƒç­–ç•¥ï¼šæ¯ä¸€æ¬¡éƒ½ä¼˜å…ˆé€‰æ‹©é‡é‡æœ€å°çš„å¤è‘£

â‘  é€‰æ‹©é‡é‡ä¸º 2 çš„å¤è‘£ï¼Œå‰©é‡é‡ 28 

â‘¡ é€‰æ‹©é‡é‡ä¸º 3 çš„å¤è‘£ï¼Œå‰©é‡é‡ 25 

â‘¢ é€‰æ‹©é‡é‡ä¸º 4 çš„å¤è‘£ï¼Œå‰©é‡é‡ 21

â‘£ é€‰æ‹©é‡é‡ä¸º 5 çš„å¤è‘£ï¼Œå‰©é‡é‡ 16

â‘¤ é€‰æ‹©é‡é‡ä¸º 7 çš„å¤è‘£ï¼Œå‰©é‡é‡ 9 

- æœ€å¤šèƒ½è£…è½½ 5 ä¸ªå¤è‘£

```java
public class Pirate {
    public static void main(String[] args) {
        int[] weights = {3, 5, 4, 10, 7, 14, 2, 11};
        int capacity = 30, weight = 0, count = 0;
        Arrays.sort(weights);
        for (int i = 0; i < weights.length&&weight<capacity; i++) {
            int newWeight = weight + weights[i];
            if (newWeight <= capacity) {
                weight = newWeight;
                count++;
            }
        }
        System.out.println("ä¸€å…±é€‰äº†" + count + "ä»¶å¤è‘£");
    }
}

```



## é›¶é’±å…‘æ¢

å‡è®¾æœ‰ 25 åˆ†ã€10 åˆ†ã€5 åˆ†ã€1 åˆ†çš„ç¡¬å¸ï¼Œç°è¦æ‰¾ç»™å®¢æˆ· 41 åˆ†çš„é›¶é’±ï¼Œå¦‚ä½•åŠåˆ°ç¡¬å¸ä¸ªæ•°æœ€å°‘ï¼Ÿ

â—¼ è´ªå¿ƒç­–ç•¥ï¼šæ¯ä¸€æ¬¡éƒ½ä¼˜å…ˆé€‰æ‹©é¢å€¼æœ€å¤§çš„ç¡¬å¸ 

â‘  é€‰æ‹© 25 åˆ†çš„ç¡¬å¸ï¼Œå‰© 16 åˆ† 

â‘¡ é€‰æ‹© 10 åˆ†çš„ç¡¬å¸ï¼Œå‰© 6 åˆ† 

â‘¢ é€‰æ‹© 5 åˆ†çš„ç¡¬å¸ï¼Œå‰© 1 åˆ† 

â‘£ é€‰æ‹© 1 åˆ†çš„ç¡¬å¸ï¼Œå‰© 0 åˆ†

- æœ€ç»ˆçš„è§£æ˜¯å…± 4 æšç¡¬å¸ âœ“ 25 åˆ†ã€10 åˆ†ã€5 åˆ†ã€1 åˆ†ç¡¬å¸å„ä¸€æš

```java
public class CoinChange {
    public static void main(String[] args) {
        int[] faces = {25, 10, 5, 1};
        Arrays.sort(faces);
        int money = 41, coins = 0;
        Map<Integer, Integer> count = new TreeMap<Integer,Integer>();
        for (int i = faces.length - 1; i >= 0; i--) {
            while (money >= faces[i]) {
                money -= faces[i];
                coins++;
                count.put(faces[i], count.getOrDefault(faces[i], 0) + 1);
            }
        }
        System.out.println("å…±å…‘æ¢äº†" + coins + "æš");
        for (Map.Entry<Integer, Integer> e : count.entrySet()) {
            Integer key = e.getKey();
            Integer value = e.getValue();
            System.out.println(key+":"+value);
        }
    }
}

```

> éœ€è¦æ³¨æ„çš„æ˜¯è´ªå¿ƒç­–ç•¥æ˜¯å°½å¯èƒ½æ¥è¿‘æœ€ä¼˜è§£ï¼Œä½†å¹¶ä¸æ˜¯ä¸€å®šæ˜¯æœ€ä¼˜è§£
>
> æ¯”å¦‚è®²ç¡¬å¸é¢å€¼æ¢æˆ21ï¼Œ29ï¼Œ5ï¼Œ1è´ªå¿ƒç­–ç•¥å°±æ±‚ä¸å‡ºæœ€ä¼˜è§£

- è´ªå¿ƒç­–ç•¥å¹¶ä¸ä¸€å®šèƒ½å¾—åˆ°å…¨å±€æœ€ä¼˜è§£ 
- å› ä¸ºä¸€èˆ¬æ²¡æœ‰æµ‹è¯•æ‰€æœ‰å¯èƒ½çš„è§£ï¼Œå®¹æ˜“è¿‡æ—©åšå†³å®šï¼Œæ‰€ä»¥æ²¡æ³•è¾¾åˆ°æœ€ä½³è§£ è´ªå›¾çœ¼å‰å±€éƒ¨çš„åˆ©ç›Šæœ€å¤§åŒ–ï¼Œçœ‹ä¸åˆ°é•¿è¿œæœªæ¥ï¼Œèµ°ä¸€æ­¥çœ‹ä¸€æ­¥

ä¼˜ç‚¹ï¼šç®€å•ã€é«˜æ•ˆã€ä¸éœ€è¦ç©·ä¸¾æ‰€æœ‰å¯èƒ½ï¼Œé€šå¸¸ä½œä¸ºå…¶ä»–ç®—æ³•çš„è¾…åŠ©ç®—æ³•æ¥ä½¿ç”¨

ç¼ºç‚¹ï¼šä¸ä»æ•´ä½“ä¸Šè€ƒè™‘å…¶ä»–å¯èƒ½ï¼Œæ¯æ¬¡é‡‡å–å±€éƒ¨æœ€ä¼˜è§£ï¼Œä¸ä¼šå†å›æº¯ï¼Œå› æ­¤å¾ˆå°‘æƒ…å†µä¼šå¾—åˆ°æœ€ä¼˜è§£

## 0-1èƒŒåŒ…

æœ‰ n ä»¶ç‰©å“å’Œä¸€ä¸ªæœ€å¤§æ‰¿é‡ä¸º W çš„èƒŒåŒ…ï¼Œæ¯ä»¶ç‰©å“çš„é‡é‡æ˜¯ ğ‘¤ i ã€ä»·å€¼æ˜¯ ğ‘£i  åœ¨ä¿è¯æ€»é‡é‡ä¸è¶…è¿‡ W çš„å‰æä¸‹ï¼Œå°†å“ªå‡ ä»¶ç‰©å“è£…å…¥èƒŒåŒ…ï¼Œå¯ä»¥ä½¿å¾—èƒŒåŒ…çš„æ€»ä»·å€¼æœ€å¤§ï¼Ÿ 

**æ³¨æ„ï¼šæ¯ä¸ªç‰©å“åªæœ‰ 1 ä»¶ï¼Œä¹Ÿå°±æ˜¯æ¯ä¸ªç‰©å“åªèƒ½é€‰æ‹© 0 ä»¶æˆ–è€… 1 ä»¶ï¼Œå› æ­¤ç§°ä¸º 0-1èƒŒåŒ…é—®é¢˜**

å¦‚æœé‡‡å–è´ªå¿ƒç­–ç•¥ï¼Œæœ‰3ä¸ªæ–¹æ¡ˆ 

â‘  ä»·å€¼ä¸»å¯¼ï¼šä¼˜å…ˆé€‰æ‹©ä»·å€¼æœ€é«˜çš„ç‰©å“æ”¾è¿›èƒŒåŒ… 

â‘¡ é‡é‡ä¸»å¯¼ï¼šä¼˜å…ˆé€‰æ‹©é‡é‡æœ€è½»çš„ç‰©å“æ”¾è¿›èƒŒåŒ… 

â‘¢ ä»·å€¼å¯†åº¦ä¸»å¯¼ï¼šä¼˜å…ˆé€‰æ‹©ä»·å€¼å¯†åº¦æœ€é«˜çš„ç‰©å“æ”¾è¿›èƒŒåŒ…ï¼ˆä»·å€¼å¯†åº¦ = ä»·å€¼ Ã· é‡é‡ï¼‰

> å®é™…ä¸ŠèƒŒåŒ…é—®é¢˜è¦æ±‚æœ€ä¼˜è§£åº”è¯¥ä½¿ç”¨åŠ¨æ€è§„åˆ’ï¼Œè¿™é‡Œæ¼”ç¤ºè´ªå¿ƒè§£æ³•

- ç‰©å“ç±»

```java
public class Article {
    public int weight;
    public int value;
    public double valueDensity;

    public Article(int weight, int value) {
        this.weight = weight;
        this.value = value;
        valueDensity = value * 1.0 / weight;
    }
}
```

- åˆ†ä¸ºä¸‰ç§è´ªå¿ƒç­–ç•¥

```java
public class Knapsack {
	public static void main(String[] args) {
		select("ä»·å€¼ä¸»å¯¼", (Article a1, Article a2) -> {
			return a2.value - a1.value;
		});
		select("é‡é‡ä¸»å¯¼", (Article a1, Article a2) -> {
			return a1.weight - a2.weight;
		});
		select("ä»·å€¼å¯†åº¦ä¸»å¯¼", (Article a1, Article a2) -> {
			return Double.compare(a2.valueDensity, a1.valueDensity);
		});
	}
	
	static void select(String title, Comparator<Article> cmp) {
		Article[] articles = new Article[] {
			new Article(35, 10), new Article(30, 40),
			new Article(60, 30), new Article(50, 50),
			new Article(40, 35), new Article(10, 40),
			new Article(25, 30)
		};
		Arrays.sort(articles, cmp);
		
		int capacity = 150, weight = 0, value = 0;
		List<Article> selectedArticles = new LinkedList<>();
		for (int i = 0; i < articles.length && weight < capacity; i++) {
			int newWeight = weight + articles[i].weight;
			if (newWeight <= capacity) {
				weight = newWeight;
				value += articles[i].value;
				selectedArticles.add(articles[i]);
			}
		}
		
		System.out.println("ã€" + title + "ã€‘");
		System.out.println("æ€»ä»·å€¼ï¼š" + value);
		for (int i = 0; i < selectedArticles.size(); i++) {
			System.out.println(selectedArticles.get(i));
		}
		System.out.println("-----------------------------");
	}
}

```

# åˆ†æ²»

**åˆ†æ²»ï¼Œä¹Ÿå°±æ˜¯åˆ†è€Œæ²»ä¹‹ã€‚å®ƒçš„ä¸€èˆ¬æ­¥éª¤æ˜¯** 

â‘  å°†åŸé—®é¢˜åˆ†è§£æˆè‹¥å¹²ä¸ªè§„æ¨¡è¾ƒå°çš„å­é—®é¢˜ï¼ˆå­é—®é¢˜å’ŒåŸé—®é¢˜çš„ç»“æ„ä¸€æ ·ï¼Œåªæ˜¯è§„æ¨¡ä¸ä¸€æ ·ï¼‰ 

â‘¡ å­é—®é¢˜åˆä¸æ–­åˆ†è§£æˆè§„æ¨¡æ›´å°çš„å­é—®é¢˜ï¼Œç›´åˆ°ä¸èƒ½å†åˆ†è§£ï¼ˆç›´åˆ°å¯ä»¥è½»æ˜“è®¡ç®—å‡ºå­é—®é¢˜çš„è§£ï¼‰ 

â‘¢ åˆ©ç”¨å­é—®é¢˜çš„è§£æ¨å¯¼å‡ºåŸé—®é¢˜çš„è§£ 

- å› æ­¤ï¼Œåˆ†æ²»ç­–ç•¥éå¸¸é€‚åˆç”¨é€’å½’ åŸé—®é¢˜ 

- éœ€è¦æ³¨æ„çš„æ˜¯ï¼šå­é—®é¢˜ä¹‹é—´æ˜¯ç›¸äº’ç‹¬ç«‹çš„

åˆ†æ²»çš„åº”ç”¨ 

- å¿«é€Ÿæ’åº 
- å½’å¹¶æ’åº 
- Karatsubaç®—æ³•ï¼ˆå¤§æ•°ä¹˜æ³•ï¼‰

## ä¸»å®šç†

<img src="https://raw.githubusercontent.com/C1EYE/figureBed/main/img/20210707113959.png" alt="image-20210707113959816" style="zoom:50%;" />

 

## æœ€å¤§è¿ç»­å­åºåˆ—å’Œ

ç»™å®šä¸€ä¸ªé•¿åº¦ä¸º n çš„æ•´æ•°åºåˆ—ï¼Œæ±‚å®ƒçš„æœ€å¤§è¿ç»­å­åºåˆ—å’Œ 

> æ¯”å¦‚ â€“2ã€1ã€â€“3ã€4ã€â€“1ã€2ã€1ã€â€“5ã€4 çš„æœ€å¤§è¿ç»­å­åºåˆ—å’Œæ˜¯ 4 + (â€“1) + 2 + 1 = 6

- è¿™é“é¢˜ä¹Ÿå±äºæœ€å¤§åˆ‡ç‰‡é—®é¢˜ï¼ˆæœ€å¤§åŒºæ®µï¼ŒGreatest Sliceï¼‰

æ¦‚å¿µåŒºåˆ† 

- å­ä¸²ã€å­æ•°ç»„ã€å­åŒºé—´å¿…é¡»æ˜¯è¿ç»­çš„ï¼Œå­åºåˆ—æ˜¯å¯ä»¥ä¸è¿ç»­çš„

ç›´æ¥ä¸Šæš´åŠ›è§£æ³•

```java
 static int maxSubarray(int[] nums) {
        if (nums == null || nums.length == 0) { return 0; }
        int max = Integer.MIN_VALUE;
        for(int begin=0;begin<nums.length;begin++){
            int sum = 0;
            for (int end = begin; end < nums.length; end++) {
                sum += nums[end];
                max = Math.max(max, sum);
            }
        }
        return max;
    }
```

åˆ†æ²»

<img src="https://raw.githubusercontent.com/C1EYE/figureBed/main/img/20210707152817.png" alt="image-20210707152817445" style="zoom:50%;" />

```java
static int maxSubarray2(int[] nums) {
        if (nums == null || nums.length == 0) { return 0; }
        return maxSubArray2(nums, 0, nums.length);
    }

    static int maxSubArray2(int[] nums, int begin, int end) {
        if (end - begin < 2) { return nums[begin]; }
        int mid = (begin + end) >> 1;
        int leftMax = Integer.MIN_VALUE;
        int leftSum = 0;
        for (int i = mid - 1; i >= begin; i--) {
            leftSum += nums[i];
            leftMax = Math.max(leftMax, leftSum);
        }

        int rightMax = Integer.MIN_VALUE;
        int rightSum = 0;
        for (int i = mid; i < end; i++) {
            rightSum += nums[i];
            rightMax = Math.max(rightMax, rightSum);
        }
      //ä¸Šé¢æ˜¯æ±‚æœ€é•¿å­åºåˆ—è¢«åˆ†å¼€çš„æƒ…å†µ
        return Math.max(leftMax + rightMax,
                Math.max(maxSubArray2(nums, begin, mid),
                        maxSubArray2(nums, mid, end)
                        )
                       );

    }
```

## å¤§æ•°ä¹˜æ³•

![image-20210708112848005](https://raw.githubusercontent.com/C1EYE/figureBed/main/img/20210708112848.png)

# åŠ¨æ€è§„åˆ’

åŠ¨æ€è§„åˆ’ï¼Œç®€ç§°DP æ˜¯æ±‚è§£æœ€ä¼˜åŒ–é—®é¢˜çš„ä¸€ç§å¸¸ç”¨ç­–ç•¥

â—¼ é€šå¸¸çš„ä½¿ç”¨å¥—è·¯ï¼ˆä¸€æ­¥ä¸€æ­¥ä¼˜åŒ–ï¼‰

 â‘  æš´åŠ›é€’å½’ï¼ˆè‡ªé¡¶å‘ä¸‹ï¼Œå‡ºç°äº†é‡å å­é—®é¢˜ï¼‰

 â‘¡ è®°å¿†åŒ–æœç´¢ï¼ˆè‡ªé¡¶å‘ä¸‹ï¼‰

 â‘¢ é€’æ¨ï¼ˆè‡ªåº•å‘ä¸Šï¼‰

>  è¿˜æ˜¯ä»¥æ‰¾é›¶é’±ä¸ºä¾‹

```java
 /**
     * æš´åŠ›
     */
    static int coins(int n) {
        if (n <= 0) { return Integer.MAX_VALUE; }
        if (n == 25 || n == 20 || n == 5 || n == 1) { return 1; }
        int min1 = Math.min(coins(n - 25), coins(n - 20));
        int min2 = Math.min(coins(n - 5), coins(n - 1));
        return Math.min(min1, min2) + 1;
    }
```

- è®°å¿†åŒ–

```Java
 //è®°å¿†åŒ–
    static int coins2(int n, int[] dp) {
        if (n < 1) { return Integer.MAX_VALUE; }
        if (dp[n] == 0) {
            int min1 = Math.min(coins2(n - 25, dp), coins2(n - 20, dp));
            int min2 = Math.min(coins2(n - 5, dp), coins2(n - 1, dp));
            dp[n] = Math.min(min1, min2) + 1;
        }
        return dp[n];
    }

    static int coins2(int n) {
        if (n <= 0) { return -1; }
        int[] dp = new int[n + 1];
        int[] faces = {1, 5, 20, 25};
      //è¿™äº›æ­£å¥½çš„é›¶é’±åªéœ€ä¸€æšå³å¯
        for (int face : faces) {
            if (n < face) {
                break;
            }
            dp[face] = 1;
        }
        return coins2(n, dp);
    }
```

- é€’æ¨

```Java
 static void print(int[] faces, int n) {
        System.out.print("[" + n + "] ");
        while (n > 0) {
            System.out.print(faces[n] + " ");
            n -= faces[n];
        }
        System.out.println();
    }


    static int coins3(int n) {
        if (n < 1) { return -1; }
        int[] dp = new int[n + 1];
        int[] faces = new int[dp.length];
        for (int i = 1; i <= n; i++) {
            int min = Integer.MAX_VALUE;
            if (i >= 1 && dp[i - 1] < min) {
                min = dp[i - 1];
                faces[i] = 1;
            }
            if (i >= 5 && dp[i - 5] < min) {
                min = dp[i - 5];
                faces[i] = 5;
            }
            if (i >= 20 && dp[i - 20] < min) {
                min = dp[i - 20];
                faces[i] = 20;
            }
            if (i >= 25 && dp[i - 25] < min) {
                min = dp[i - 25];
                faces[i] = 25;
            }
            dp[i] = min + 1;
            print(faces, i);
        }
        print(faces, n);
        return dp[n];
    }

```

```java
 static int coins5(int n, int[] faces) {
        if (n < 1 || faces == null || faces.length < 1) { return -1; }
        int[] dp = new int[n + 1];
        for(int i=1;i<=n;i++){
            int min = Integer.MAX_VALUE;
            for (int face : faces) {
//                if (i < face||dp[i-face]<0) { break; }
//                min = Math.min(min, dp[i - face]);
                if (i < face) { continue; }
                int v = dp[i - face];
                if (v < 0 || v > min) { continue; }
                min = v;
            }
            if(min == Integer.MAX_VALUE){
                dp[i] = -1;
            }else {
                dp[i] = min + 1;
            }
        }
        return dp[n];
    }
```

## åŠ¨æ€è§„åˆ’å¸¸è§„æ­¥éª¤

> åŠ¨æ€è§„åˆ’ä¸­çš„â€œåŠ¨æ€â€å¯ä»¥ç†è§£ä¸ºæ˜¯â€œä¼šå˜åŒ–çš„çŠ¶æ€â€

â‘  å®šä¹‰çŠ¶æ€ï¼ˆçŠ¶æ€æ˜¯åŸé—®é¢˜ã€å­é—®é¢˜çš„è§£ï¼‰ âœ“ æ¯”å¦‚å®šä¹‰ dp(i) çš„å«ä¹‰

â‘¡ è®¾ç½®åˆå§‹çŠ¶æ€ï¼ˆè¾¹ç•Œï¼‰ âœ“ æ¯”å¦‚è®¾ç½® dp(0) çš„å€¼

â‘¢ ç¡®å®šçŠ¶æ€è½¬ç§»æ–¹ç¨‹ âœ“ æ¯”å¦‚ç¡®å®š dp(i) å’Œ dp(i â€“ 1) çš„å…³ç³»

### ç›¸å…³æ¦‚å¿µ

â‘  å°†å¤æ‚çš„åŸé—®é¢˜æ‹†è§£æˆè‹¥å¹²ä¸ªç®€å•çš„å­é—®é¢˜

â‘¡ æ¯ä¸ªå­é—®é¢˜ä»…ä»…è§£å†³1æ¬¡ï¼Œå¹¶ä¿å­˜å®ƒä»¬çš„è§£

â‘¢ æœ€åæ¨å¯¼å‡ºåŸé—®é¢˜çš„è§£

å¯ä»¥ç”¨åŠ¨æ€è§„åˆ’æ¥è§£å†³çš„é—®é¢˜ï¼Œé€šå¸¸å…·å¤‡2ä¸ªç‰¹ç‚¹ 

**æœ€ä¼˜å­ç»“æ„ï¼ˆæœ€ä¼˜åŒ–åŸç†ï¼‰**

- é€šè¿‡æ±‚è§£å­é—®é¢˜çš„æœ€ä¼˜è§£ï¼Œå¯ä»¥è·å¾—åŸé—®é¢˜çš„æœ€ä¼˜è§£ 

**æ— åæ•ˆæ€§** 

- æŸé˜¶æ®µçš„çŠ¶æ€ä¸€æ—¦ç¡®å®šï¼Œåˆ™æ­¤åè¿‡ç¨‹çš„æ¼”å˜ä¸å†å—æ­¤å‰å„çŠ¶æ€åŠå†³ç­–çš„å½±å“ï¼ˆæœªæ¥ä¸è¿‡å»æ— å…³ï¼‰ 
- åœ¨æ¨å¯¼åé¢é˜¶æ®µçš„çŠ¶æ€æ—¶ï¼Œåªå…³å¿ƒå‰é¢é˜¶æ®µçš„å…·ä½“çŠ¶æ€å€¼ï¼Œä¸å…³å¿ƒè¿™ä¸ªçŠ¶æ€æ˜¯æ€ä¹ˆä¸€æ­¥æ­¥æ¨å¯¼å‡ºæ¥çš„

> ä¸¾ä¸ªä¾‹å­

![image-20210709105506690](https://raw.githubusercontent.com/C1EYE/figureBed/main/img/20210709105506.png)

è€Œä¸‹é¢è¿™ç§å°±æ˜¯æœ‰åæ•ˆæ€§

![image-20210709105517589](https://raw.githubusercontent.com/C1EYE/figureBed/main/img/20210709105517.png)

### æœ€å¤§å­åºå’Œ

> ç»™å®šä¸€ä¸ªé•¿åº¦ä¸º n çš„æ•´æ•°åºåˆ—ï¼Œæ±‚å®ƒçš„æœ€å¤§è¿ç»­å­åºåˆ—å’Œ 
>
> æ¯”å¦‚ â€“2ã€1ã€â€“3ã€4ã€â€“1ã€2ã€1ã€â€“5ã€4 çš„æœ€å¤§è¿ç»­å­åºåˆ—å’Œæ˜¯ 4 + (â€“1) + 2 + 1 = 6

![image-20210709115038829](https://raw.githubusercontent.com/C1EYE/figureBed/main/img/20210709115039.png)

![image-20210709115051599](https://raw.githubusercontent.com/C1EYE/figureBed/main/img/20210709115051.png)

```java
public static int maxSubArray1(int[] nums){
        if (nums == null || nums.length == 0) { return 0; }
        int[] dp = new int[nums.length];
        dp[0] = nums[0];
        int max = dp[0];
        for (int i = 1; i < dp.length; i++) {
            if(dp[i-1]<=0){
                dp[i] = nums[i];
            }else{
                dp[i] = dp[i - 1] + nums[i];
            }
            max = Math.max(max, dp[i]);

        }
        return max;

    }

    //æ»šåŠ¨æ•°ç»„ä¼˜åŒ–
    public static int maxSubArray2(int[] nums){
        if (nums == null || nums.length == 0) { return 0; }
        int dp = nums[0];
        int max = dp;
        for (int i = 1; i < nums.length; i++) {
            if(dp<=0){
                dp = nums[i];
            }else{
                dp += nums[i];
            }
            max = Math.max(max, dp);

        }
        return max;

    }
```

### LIS

> ç»™å®šä¸€ä¸ªæ— åºçš„æ•´æ•°åºåˆ—ï¼Œæ±‚å‡ºå®ƒæœ€é•¿ä¸Šå‡å­åºåˆ—çš„é•¿åº¦ï¼ˆè¦æ±‚ä¸¥æ ¼ä¸Šå‡ï¼‰ 
>
> æ¯”å¦‚ [10, 2, 2, 5, 1, 7, 101, 18] çš„æœ€é•¿ä¸Šå‡å­åºåˆ—æ˜¯ [2, 5, 7, 101]ã€[2, 5, 7, 18]ï¼Œé•¿åº¦æ˜¯ 4

![image-20210709153000850](https://raw.githubusercontent.com/C1EYE/figureBed/main/img/20210709153001.png)

![image-20210709153015835](https://raw.githubusercontent.com/C1EYE/figureBed/main/img/20210709153016.png)

```java
  static int lengthOfLIS(int[] nums){
        if (nums == null || nums.length == 0) { return 0; }
        int[] dp = new int[nums.length];
        int max = dp[0] = 1;
        for (int i = 0; i < dp.length; i++) {
            dp[i] = 1;
            for (int j = 0; j < i; j++) {
                if (nums[i] > nums[j]) {
                    dp[i] = Math.max(dp[i], dp[j]+1);
                }
            }
            max = Math.max(dp[i], max);
        }
        return max;
    }
```

- å¦ä¸€ç§æ€è·¯

![image-20210714104017091](https://raw.githubusercontent.com/C1EYE/figureBed/main/img/20210714104017.png)![image-20210714104025881](https://raw.githubusercontent.com/C1EYE/figureBed/main/img/20210714104026.png)

```java
    static int lengthOfLIS2(int[] nums){
        if (nums == null || nums.length == 0) { return 0; }
        int len = 0;
        int[] top = new int[nums.length];
        for (var num: nums){
//            int j = 0;
//            while (j<len){
//                if(top[j]>=num){
//                    top[j] = num;
//                    break;
//                }
//                j++;
//            }
//            if(j==len){
//                len++;
//                top[j] = num;
//            }
            int begin = 0;
            int end = len;
            while (begin<end){
                int mid = (begin + end) >> 1;
                if(num <=top[mid]){
                    end = mid;
                }else{
                    begin = mid + 1;
                }
            }
            top[begin] = num;
            if (begin == len) { len++; }
        }
        return len;
    }
```



## LCS

![image-20210712091116967](https://raw.githubusercontent.com/C1EYE/figureBed/main/img/20210712091117.png)

![image-20210712092454725](https://raw.githubusercontent.com/C1EYE/figureBed/main/img/20210712092454.png)

- æš´åŠ›é€’å½’

```java
 static int lcs1(int[] nums1, int[] nums2) {
        if (nums1 == null || nums1.length == 0) { return 0; }
        if (nums2 == null || nums2.length == 0) { return 0; }
        return lcs1(nums1, nums1.length, nums2, nums2.length);
    }

    /**
     * æ±‚num1å‰iä¸ªå…ƒç´ å’Œnums2å‰jä¸ªå…ƒç´ çš„LCS
     *
     * @param nums1
     * @param i
     * @param nums2
     * @param j
     * @return
     */
    static int lcs1(int[] nums1, int i, int[] nums2, int j) {
        if (i == 0 || j == 0) { return 0; }
        if (nums1[i - 1] == nums2[j - 1]) {
            return lcs1(nums1, i - 1, nums2, j - 1) + 1;
        }
        return Math.max(lcs1(nums1, i - 1, nums2, j),
                lcs1(nums1, i, nums2, j - 1));
    }
```

- dp

```java
static int lcs2(int[] nums1, int[] nums2) {
        if (nums1 == null || nums1.length == 0) { return 0; }
        if (nums2 == null || nums2.length == 0) { return 0; }
        int[][] dp = new int[nums1.length + 1][nums2.length + 1];
        for (int i = 1; i <= nums1.length; i++) {
            for (int j = 1; j <= nums2.length; j++) {
                if (nums1[i - 1] == nums2[j - 1]) {
                    dp[i][j] = dp[i - 1][j - 1] + 1;
                } else {
                    dp[i][j] = Math.max(dp[i - 1][j], dp[i][j - 1]);
                }
            }
        }
        return dp[nums1.length][nums2.length];
    }
```

> å®Œå…¨å¯ä»¥ç”¨æ»šåŠ¨æ•°ç»„ä¼˜åŒ–

![image-20210712102831763](https://raw.githubusercontent.com/C1EYE/figureBed/main/img/20210712102832.png)

```java
 static int lcs3(int[] nums1, int[] nums2) {
        if (nums1 == null || nums1.length == 0) { return 0; }
        if (nums2 == null || nums2.length == 0) { return 0; }
        int[][] dp = new int[2][nums1.length + 1];
        for (int i = 1; i <= nums1.length; i++) {
            int row = i & 1;
            int prevRow = (i - 1) & 1;
            for (int j = 1; j <= nums2.length; j++) {
                if (nums1[i - 1] == nums2[j - 1]) {
                    dp[row][j] = dp[prevRow][j - 1] + 1;
                } else {
                    dp[row][j] = Math.max(dp[prevRow][j], dp[row][j - 1]);
                }
            }
        }
        return dp[nums1.length & 1][nums2.length];
    }
```

> è¿˜å¯ä»¥è¿›ä¸€æ­¥ä¼˜åŒ–ï¼Œç”¨ä¸€ç»´æ•°ç»„

```java
  static int lcs5(int[] nums1, int[] nums2) {
        if (nums1 == null || nums1.length == 0) { return 0; }
        if (nums2 == null || nums2.length == 0) { return 0; }
        int[] rowsNums = nums1, colsNums = nums2;
    //è¿™é‡Œé€‰æ‹©äº†é•¿åº¦è¾ƒçŸ­çš„é‚£ä¸€ä¸ªæ•°ç»„ä½œä¸ºåˆ—
        if (nums1.length < nums2.length) {
            colsNums = nums1;
            rowsNums = nums2;
        }

        int[] dp = new int[colsNums.length + 1];
        for (int i = 1; i <= rowsNums.length; i++) {
            int cur = 0;
            for (int j = 1; j <= colsNums.length; j++) {
              //leftTopæ˜¯ä¸Šæ¬¡è¿­ä»£è®¡ç®—å‡ºçš„ï¼Œæ‰€ä»¥è¦ç¼“å­˜ä¸€ä¸‹
                int leftTop = cur;
                cur = dp[j];
                if (rowsNums[i-1] == colsNums[j-1]) {
                    dp[j] = leftTop + 1;
                } else {
                    dp[j] = Math.max(dp[j], dp[j - 1]);
                }
            }
        }
        return dp[colsNums.length];
    }
```

### æœ€é•¿å…¬å…±å­ä¸²

æœ€é•¿å…¬å…±å­ä¸²ï¼ˆLongest Common Substringï¼‰ å­ä¸²æ˜¯è¿ç»­çš„å­åºåˆ—

æ±‚ä¸¤ä¸ªå­—ç¬¦ä¸²çš„æœ€é•¿å…¬å…±å­ä¸²é•¿åº¦ ABCBA å’Œ BABCA çš„æœ€é•¿å…¬å…±å­ä¸²æ˜¯ ABCï¼Œé•¿åº¦ä¸º 3

![image-20210713104831694](https://raw.githubusercontent.com/C1EYE/figureBed/main/img/20210713104831.png)

```java
 static int lcs(String str1,String str2){
        if (str1 == null || str2 == null) { return 0; }
        char[] chars1 = str1.toCharArray();
        if (chars1.length == 0) { return 0; }
        char[] chars2 = str2.toCharArray();
        if (chars2.length == 0) { return 0; }

        int[][] dp = new int[chars1.length + 1][chars2.length + 1];
        int max = Integer.MIN_VALUE;
        for (int i = 1; i <= chars1.length; i++) {
            for (int j = 1; j <= chars2.length; j++) {
                if(chars1[i-1]==chars2[j-1]){
                    dp[i][j] = dp[i - 1][j - 1] + 1;
                }
                max = Math.max(dp[i][j], max);
            }
        }

        return max;
    }
```

![image-20210713112905196](https://raw.githubusercontent.com/C1EYE/figureBed/main/img/20210713112905.png)

åŒæ ·å¯ä»¥ç”¨ä¸€ç»´æ•°ç»„ä¼˜åŒ–

```java
static int lcs2(String str1,String str2){
        if (str1 == null || str2 == null) { return 0; }
        char[] chars1 = str1.toCharArray();
        if (chars1.length == 0) { return 0; }
        char[] chars2 = str2.toCharArray();
        if (chars2.length == 0) { return 0; }
        char[] rowNums = chars1, colNums = chars2;
        if(chars1.length<chars2.length){
            rowNums = chars2;
            colNums = chars1;
        }

        int[] dp = new int[colNums.length+1];
        int max = Integer.MIN_VALUE;
        for (int row = 1; row <= rowNums.length; row++) {
            int cur = 0;
            for (int col = 1; col <= colNums.length; col++) {
                int leftTop = cur;
                cur = dp[col];
                if(chars1[row-1]==chars2[col-1]){
                    dp[col] = leftTop + 1;
                }else{
                    dp[col] = 0;
                }
                max = Math.max(dp[col], max);
            }
        }

        return max;
    }
```

### 0-1èƒŒåŒ…

> DPæ‰æ˜¯æ­£ç¡®è§£æ³•

![image-20210713115525175](https://raw.githubusercontent.com/C1EYE/figureBed/main/img/20210713115525.png)

![image-20210713160337438](https://raw.githubusercontent.com/C1EYE/figureBed/main/img/20210713160337.png)

```java
static int maxValue(int[] values, int[] weights, int capacity) {
        if (values == null || values.length == 0) { return 0; }
        if (weights == null || weights.length == 0) { return 0; }
        if (values.length != weights.length || capacity <= 0) { return 0; }

        int[][] dp = new int[values.length + 1][capacity + 1];
        for (int i = 1; i <= values.length; i++) {
            for (int j = 1; j <= capacity; j++) {
                if (j < weights[i - 1]) {
                    dp[i][j] = dp[i - 1][j];
                } else {
                    dp[i][j] = Math.max(dp[i - 1][j], values[i - 1] + dp[i - 1][j - weights[i - 1]]);
                }
            }
        }
        return dp[values.length][capacity];
    }
```

- ä¼˜åŒ–

```java
static int maxValue2(int[] values, int[] weights, int capacity) {
        if (values == null || values.length == 0) { return 0; }
        if (weights == null || weights.length == 0) { return 0; }
        if (values.length != weights.length || capacity <= 0) { return 0; }

        int[] dp = new int[capacity + 1];
        for (int i = 1; i <= values.length; i++) {
            //å®¹é‡ä¸è¶³å°±æ²¡æœ‰é€‰æ‹©çš„å¿…è¦
            for (int j = capacity; j >= weights[i - 1]; j--) {
                if (j >= weights[i - 1]) {
                    dp[j] = Math.max(dp[j], values[i - 1] + dp[j - weights[i - 1]]);
                }
            }
        }
        return dp[capacity];
    }

```

### 0-1èƒŒåŒ…æ°å¥½è£…æ»¡

![image-20210713161912115](https://raw.githubusercontent.com/C1EYE/figureBed/main/img/20210713161912.png)

- ä¿®æ”¹ä¸€ä¸‹åˆå§‹çŠ¶æ€å³å¯

```java
static int maxValueExactly(int[] values, int[] weights, int capacity) {
        if (values == null || values.length == 0) { return 0; }
        if (weights == null || weights.length == 0) { return 0; }
        if (values.length != weights.length || capacity <= 0) { return 0; }

        int[] dp = new int[capacity + 1];
		  //åˆå§‹åŒ–ä¸ºæœ€å°å€¼
        for (int i = 1; i <= capacity; i++) {
            dp[i] = Integer.MIN_VALUE;
        }
        for (int i = 1; i <= values.length; i++) {
            //å®¹é‡ä¸è¶³å°±æ²¡æœ‰é€‰æ‹©çš„å¿…è¦
            for (int j = capacity; j >= weights[i - 1]; j--) {
                if (j >= weights[i - 1]) {
                    dp[j] = Math.max(dp[j], values[i - 1] + dp[j - weights[i - 1]]);
                }
            }
        }
        return dp[capacity] < 0 ? -1 : dp[capacity];
    }

```

